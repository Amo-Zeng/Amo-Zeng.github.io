
     <script>
       // 正确闭合内联脚本
       document.write("Hello World");
     </script>
     ```
     **避免错误的结构**，如：
     ```html
     <script src="script.js"  <!-- 错误：标签未正确闭合 -->
     ```

   - **转义内联脚本中的特殊字符**  
     若脚本中包含`</script>`字符串，需转义为`<\/script>`以避免提前终止脚本：
     ```html
     <script>
       var str = "<\/script>"; // 正确转义
     </script>
     ```

### 2. **验证HTML文档结构**
   - **确保文本内容嵌套在块级元素中**  
     直接位于`<body>`下的文本应包裹在`<p>`、`<div>`等标签内。例如：
     ```html
     <body>
       <script src="script.js"></script>
       <p>页面正文内容</p> <!-- 避免直接写文字：无效HTML -->
     </body>
     ```

   - **确认DOCTYPE声明为HTML5**  
     确保文档顶部有标准的`<!DOCTYPE html>`声明：
     ```html
     <!DOCTYPE html>
     <html lang="en">
     ```

### 3. **定位并修复具体错误位置**
   使用[HTML验证服务（如W3C Validator）](https://validator.w3.org/)上传网页或输入URL，获取**具体错误位置**（行号和列号），针对性修复。例如：
   - **假设验证器提示第15行出现非法文本：**
     ```html
     <!-- 错误示例：脚本后直接接文本 -->
     <script src="script.js"></script>
     紧急公告：维护进行中！ <!-- 无效解析 -->
     ```
     **修复为：**
     ```html
     <script src="script.js"></script>
     <p>紧急公告：维护进行中！</p> <!-- 合法嵌套 -->
     ```

### 4. **处理被注释的脚本**
   若暂时注释掉脚本代码，需确保注释格式正确：
   ```html
   <!-- 
   <script>
     alert("被禁用的脚本");
   </script>
   -->
   ```
   **避免在注释中混用HTML标签**，防止解析器错误执行。

### 5. **检查外部脚本的影响**
   - **确保外部脚本无`document.write`动态内容**  
     `document.write`可能在页面加载后插入非法HTML，导致验证失败。优先使用`<div id="target"></div>`并用`target.innerHTML`替代。
   - **验证外部脚本兼容性**  
     确保引用的第三方脚本（如统计代码）遵循HTML标准，无非法嵌套。

### 6. **验证并测试修复**
   - 使用[validator.w3.org](https://validator.w3.org/)逐行检查修复后的HTML。
   - 在本地静态服务器（如VS Code插件Live Server）运行，确认无浏览器控制台错误。

### 7. **高级排查：避免XSS或字符编码问题**
   - **字符编码声明**：确保`<meta charset="UTF-8">`存在于`<head>`顶部。
   - **转义用户提交的内容**：若页面内容包含用户生成数据，使用PHP的`htmlspecialchars()`或等效函数转义`<`, `>`, `&`等字符。

### 示例修复代码
假设原始代码问题为：
```html
<!DOCTYPE html>
<html>
  <head>
    <script src="main.js"></script>
    <!-- 动态数据加载脚本 -->
  </head>
  <body>
    欢迎访问本网站！
  </body>
</html>
```
**验证错误**：文本节点直接位于`<body>`内。  
**修复后代码**：
```html
<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="UTF-8">
    <title>首页</title>
    <script src="main.js"></script>
    <!-- 动态数据加载脚本 -->
  </head>
  <body>
    <p>欢迎访问本网站！</p> <!-- 文本合法嵌套 -->
  </body>
</html>
